---
import MainLayout from "../../layouts/MainLayout.astro";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";
import { FaLinkedin } from "react-icons/fa";

export const getStaticPaths = async () => {
  const groups = await getCollection("groups");
  const paths = groups.map((group) => {
    return {
      params: {
        slug: group.slug,
      },
      props: {
        group,
      },
    };
  });
  return paths;
};

type Props = {
  group: CollectionEntry<"groups">;
};

const { group } = Astro.props;
const { Content } = await group.render();
---

<MainLayout title={group.data.title}>
  <div
    class="border-2 border-solid border-[#ABA1A1] rounded-lg p-6 shadow-2xl mb-7 text-slate-300 text-xl mx-6 bg-custom-back-ground"
  >
    <h1
      class="bg-gradient-to-r from-cyan-300 to-white text-transparent bg-clip-text text-7xl text-center border-b-2 border-solid border-[#ABA1A1] lg:mt-10 mb-6 pb-4"
    >
      {group.data.title}
    </h1>
    <h2 class="text-center text-5xl mb-6">Coordinators</h2>
    <div class="flex flex-row justify-center gap-8 mb-10">
      {
        group.data.coordinators.map((c) => (
          <div class="bg-[#0E5F7C] bg-opacity-20 w-full lg:w-96 shadow-lg text-slate-200 shadow-slate-800 rounded-xl">
            <h2 class="card-title justify-center text-4xl pt-4 font-bold text-center">
              {c.name}
            </h2>
            <figure class="px-10 pt-4">
              <img src={c.image} alt="Member" class="rounded-xl" />
            </figure>
            <div class="card-body items-center text-center">
              <div class="flex items-center gap-2 btn bg-[#2c9db1] text-white border-none text-lg">
                <FaLinkedin style={{ color: "blue" }} />
                <a href={c.connect}>Connect!</a>
              </div>
            </div>
          </div>
        ))
      }
    </div>
    <!-- <Content /> -->
    <!-- TODO Revise this component -->
    <div
      class="prose prose-2xl text-white prose-p:text-center prose-headings:text-white"
    >
      <Content />
    </div>
  </div>
</MainLayout>
